<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html><!--
 Archive processed by SingleFile 
 url: https://informatics.msk.ru/moodle/mod/statements/print3.php?id=33319 
 saved date: Sun Aug 12 2018 23:07:31 GMT+0300 (MSK) 
--><meta charset=utf-8>
<title>Параллель B. Структуры данных</title>
<style>.problem-statement{margin:.5em;font-family:verdana;line-height:1.5em;font-size:14px}.problem-statement p{margin:0 0 1em}.problem-statement ul{list-style:disc inside}.problem-statement .legend{margin-bottom:1em}.problem-statement .section-title{font-family:arial;font-size:115%;font-weight:bold}.problem-statement .output-specification{margin-bottom:1em}.problem-statement .sample-tests .input,.problem-statement .sample-tests .output{border:1px solid #888}.problem-statement .sample-tests .output{margin-bottom:1em;position:relative;top:-1px}.problem-statement .sample-tests pre{line-height:1.25em;padding:.25em;margin:0;background-color:#efefef}.problem-statement .sample-tests .title{font-family:arial;padding:.25em;border-bottom:1px solid #888;text-transform:lowercase;font-weight:bold}.problem-statement .tex-span{font-size:125%;font-family:"times new roman"}.problem-statement .tex-font-style-tt{font-size:110%;font-family:"courier new"}</style>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta http-equiv=Content-Type content="text/html; charset=">
<meta name=description content="Параллель B. Структуры данных">
<style>h1,h2,h3,h4,h5,h6{margin-left:0;font-family:"Times New Roman",Times,serif;break-after:avoid;break-inside:avoid}.statements_title{margin-left:-40px;font-family:Tahoma,Verdana,Arial,Helvetica,sans-serif;font-size:3em;font-weight:bold;margin-top:120px;margin-bottom:30px;text-align:center}.statements_summary{margin-left:-40px;text-align:center;margin-bottom:120px}.statements_chapter_title{font-family:Tahoma,Verdana,Arial,Helvetica,sans-serif;text-align:left;font-size:1.7em;font-weight:bold;border-style:solid;border-width:0 0 1px;margin-left:0;margin-bottom:20px}.statements_chapter{break-before:page}body{margin-left:50px;margin-right:10px;color:#000;background-color:#fff;font-family:"Times New Roman",Times,serif;font-size:1em;font-weight:normal;text-decoration:none}font{color:#000;background-color:#eee;font-family:"Times New Roman",Times,serif;font-size:1em;font-weight:normal;text-decoration:none}</style>
<link type=image/x-icon rel="shortcut icon" href=data:image/x-icon;base64,></head> <body> <a name=top></a> <p class=statements_title>Параллель B. Структуры данных</p> <p class=statements_summary></p>  <div class=statements_toc_alpha><a name=toc></a><p class=statements_chapter_title>Список задач<ul><li><a href=#ch3308><b>Задача A.</b> Суммы на подотрезках</a><li><a href=#ch1663><b>Задача B.</b> Суперминимум</a><li><a href=#ch1375><b>Задача C.</b> Острова</a><li><a href=#ch1376><b>Задача D.</b> Вес компоненты</a><li><a href=#ch111756><b>Задача E.</b> Разрезание графа</a><li><a href=#ch1672><b>Задача F.</b> Спутник</a><li><a href=#ch3319><b>Задача G.</b> Номер максимума на подотрезке с изменением элемента</a><li><a href=#ch3323><b>Задача H.</b> k-й ноль на интервале, c изменением элемента</a></ul></div><hr><div class=statements_chapter><h1><a name=ch3308>Суммы на подотрезках</a></h1><p class=statements_chapter_title><b>Задача A.</b> Суммы на подотрезках</p> <div class=problem-statement><div class=legend><p>Реализуйте структуру данных для эффективного вычисления сумм подряд идущих элементов массива.</p></div><p><p><div class=input-specification><div class=section-title>Входные данные</div><p><p>В первой строке вводится одно натуральное число <span class=tex-span><i>N</i></span> (<span class=tex-span>1 ≤ <i>N</i> ≤ 100000</span>) — количество чисел в массиве.<p>Во второй строке вводятся N чисел от 1 до 100000 — элементы массива.<p>В третьей строке вводится одно натуральное число <span class=tex-span><i>K</i></span> (<span class=tex-span>1 ≤ <i>K</i> ≤ 30000</span>) — количество запросов на вычисление суммы.<p>В следующих <span class=tex-span><i>K</i></span> строках вводится по два числа — номера левого и правого элементов отрезка массива (считается, что элементы массива нумеруются с единицы).'</p></div><p><p><div class=output-specification><div class=section-title>Выходные данные</div><p><p>Для каждого запроса выведите сумму чисел соответствующего участка массива. Числа выводите в одну строку через пробел.</p></div><p></p> </div>
<div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>5
4 4 8 7 8
2
1 2
1 3
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>8 16
</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch1663>Суперминимум</a></h1><p class=statements_chapter_title><b>Задача B.</b> Суперминимум<p style=text-indent:1.25cm;margin-bottom:0 align=JUSTIFY><font size=2 style=font-size:11pt>Дано <em>N</em> чисел. Для каждых <em>K</em> подряд идущих чисел найти минимальное среди них.</font></p> <p style=margin-top:.21cm;margin-bottom:.11cm align=JUSTIFY><font face="Arial, sans-serif"><font size=3><em><strong>Формат входных данных</strong></em></font></font></p> <p style=text-indent:1.25cm;margin-bottom:0 align=JUSTIFY><font size=2 style=font-size:11pt>В первой строке даны числа <em>N</em> и <em>K</em> (1 ≤ <em>N</em> ≤ 150000, 1 ≤ <em>K</em> ≤ 10000, <em>K</em> ≤ <em>N</em>), разделенные пробелом. Во второй строке записано <em>N</em> целых чисел через пробел. Числа находятся в диапазоне от -32768 до 32767.</font></p> <p style=margin-top:.21cm;margin-bottom:.11cm align=JUSTIFY><font face="Arial, sans-serif"><font size=3><em><strong>Формат выходных данных</strong></em></font></font></p> <p style=text-indent:1.25cm;margin-bottom:0 align=JUSTIFY><font size=2 style=font-size:11pt>Для каждых <em>К</em> подряд идущих чисел вывести минимальное из них.</font></p> <p style=margin-top:.21cm;margin-bottom:.11cm align=JUSTIFY><font face="Arial, sans-serif"><font size=3><em><strong>Пример</strong></em></font></font></p> <table border=1 cellspacing=0 cellpadding=7 width=681 bordercolor=#000000> <tbody><tr valign=TOP> <td width=319> <p align=CENTER><font face="Courier New, monospace"><font size=2 style=font-size:11pt><strong>Входные данные</strong></font></font></p> </td> <td width=333> <p align=CENTER><font face="Courier New, monospace"><font size=2 style=font-size:11pt><strong>Выходные данные</strong></font></font></p> </td> </tr> <tr valign=TOP> <td width=319> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>11 3</font></font></p> <p align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>8 764 1 3 85 2 4 5 77 1 5</font></font></p> </td> <td width=333> <p align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>1 1 1 2 2 2 4 1 1</font></font></p> </td> </tr> </table> <ol><p style=margin-top:.21cm;margin-bottom:.32cm;page-break-before:always align=JUSTIFY> </p></ol> </div><hr><div class=statements_chapter><h1><a name=ch1375>Острова</a></h1><p class=statements_chapter_title><b>Задача C.</b> Острова<div class=problem-statement> <div class=legend> <p>Одно разбросанное на островах Океании государство решило создать сеть автомобильных дорог (вернее, мостов). По каждому мосту можно перемещаться в обе стороны. Был разработан план очередности строительства мостов и известно, что после постройки всех мостов можно будет проехать по ним с каждого острова на каждый (возможно, через некоторые промежуточные острова</p> <p>Однако, этот момент может наступить до того, как будут построены все мосты. Вам необходимо определить такое минимальное количество мостов, после строительства которых (в порядке, определенном планом), можно будет попасть с любого острова на любой другой.</p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p>Первая строка содержит два числа: число островов N (1≤N≤10000) и количество мостов в плане M (1≤M≤50000). Далее идет M строк, каждая содержит два числа x и y (1≤x,y≤N) - номера городов, которые соединяет очередной мост в плане.</p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p>Программа должна вывести единственное число - минимальное количество построенных мостов, после которого можно будет попасть с любого острова на любой другой.</p> </div> </div>
<div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>4 5
1 2
1 3
2 3
3 4
4 1
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>4
</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch1376>Вес компоненты</a></h1><p class=statements_chapter_title><b>Задача D.</b> Вес компоненты<div class=problem-statement> <div class=legend> <p>В неориентированный взвешанный граф добавляют ребра. Напишите программу, которая в некоторые моменты находит сумму весов ребер в компоненте связности. </p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p>В первой строке записано два числа n и m (1≤n,m≤10<sup>6</sup>) - количество вершин в графе и количество производимых добавлений и запросов. Далее следует m строк с описанием добавления или запроса. Каждая строка состоит из двух или четырех чисел. Первое из чисел обозначает код операции. Если первое число 1, то за ним следует еще три числа x, y, w. Это означает, что в граф добавляется ребро из вершины x в вершину y веса w. (1≤x<y≤n, 1≤w≤10<sup>3</sup>). Кратные ребра допустимы. Если первое число 2, то за ним следует ровно одно число x. Это означает, что необходимо ответить на вопрос, какова сумма ребер в компоненте связности, которой принадлежит вершина x (1≤x≤n).</p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p>Для каждой операции с кодом 2 выведите ответ на поставленную задачу. Ответ на каждый запрос выводите на отдельной строке.</p> </div> </div>
<div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>6 10
2 1
1 1 2 1
2 1
1 2 4 2
2 1
1 1 4 3
2 1
1 3 5 3
2 5
2 6
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>0
1
3
6
3
0
</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch111756>Разрезание графа</a></h1><p class=statements_chapter_title><b>Задача E.</b> Разрезание графа<div class=problem-statement><div class=legend><p>Дан неориентированный граф. Над ним в заданном порядке производят операции следующих двух типов:<p><ul type=disc> <li> <span class=tex-font-style-tt>cut</span> — разрезать граф, то есть удалить из него ребро; <li> <span class=tex-font-style-tt>ask</span> — проверить, лежат ли две вершины графа в одной компоненте связности. </ul><p><p>Известно, что после выполнения всех операций типа <span class=tex-font-style-tt>cut</span> рёбер в графе не осталось. Найдите результат выполнения каждой из операций типа <span class=tex-font-style-tt>ask</span>.</p></div><p><p><div class=input-specification><div class=section-title>Входные данные</div><p><p>Первая строка входного файла содержит три целых числа, разделённые пробелами — количество вершин графа <span class=tex-span><i>n</i></span>, количество рёбер <span class=tex-span><i>m</i></span> и количество операций <span class=tex-span><i>k</i></span> (<span class=tex-span>1 ≤ <i>n</i> ≤ 50 000</span>, <span class=tex-span>0 ≤ <i>m</i> ≤ 100 000</span>, <span class=tex-span><i>m</i> ≤ <i>k</i> ≤ 150 000</span>).<p>Следующие <span class=tex-span><i>m</i></span> строк задают рёбра графа; <span class=tex-span><i>i</i></span>-я из этих строк содержит два числа <span class=tex-span><i>u</i><sub class=lower-index><i>i</i></sub></span> и <span class=tex-span><i>v</i><sub class=lower-index><i>i</i></sub></span> (<span class=tex-span>1 ≤ <i>u</i><sub class=lower-index><i>i</i></sub>, <i>v</i><sub class=lower-index><i>i</i></sub> ≤ <i>n</i></span>), разделённые пробелами — номера концов <span class=tex-span><i>i</i></span>-го ребра. Вершины нумеруются с единицы; граф не содержит петель и кратных рёбер.<p>Далее следуют <span class=tex-span><i>k</i></span> строк, описывающих операции. Операция типа <span class=tex-font-style-tt>cut</span> задаётся строкой «<span class=tex-font-style-tt>cut <span class=tex-span><i>u</i></span> <span class=tex-span><i>v</i></span></span>» (<span class=tex-span>1 ≤ <i>u</i>, <i>v</i> ≤ <i>n</i></span>), которая означает, что из графа удаляют ребро между вершинами <span class=tex-span><i>u</i></span> и <span class=tex-span><i>v</i></span>. Операция типа <span class=tex-font-style-tt>ask</span> задаётся строкой «<span class=tex-font-style-tt>ask <span class=tex-span><i>u</i></span> <span class=tex-span><i>v</i></span></span>» (<span class=tex-span>1 ≤ <i>u</i>, <i>v</i> ≤ <i>n</i></span>), которая означает, что необходимо узнать, лежат ли в данный момент вершины <span class=tex-span><i>u</i></span> и <span class=tex-span><i>v</i></span> в одной компоненте связности. Гарантируется, что каждое ребро графа встретится в операциях типа <span class=tex-font-style-tt>cut</span> ровно один раз.</p></div><p><p><div class=output-specification><div class=section-title>Выходные данные</div><p><p>Для каждой операции <span class=tex-font-style-tt>ask</span> во входном файле выведите на отдельной строке слово «<span class=tex-font-style-tt>YES</span>», если две указанные вершины лежат в одной компоненте связности, и «<span class=tex-font-style-tt>NO</span>» в противном случае. Порядок ответов должен соответствовать порядку операций <span class=tex-font-style-tt>ask</span> во входном файле.</p></div><p><p></p></div><div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>3 3 7
1 2
2 3
3 1
ask 3 3
cut 1 2
ask 1 2
cut 1 3
ask 2 1
cut 2 3
ask 3 1
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>YES
YES
NO
NO
</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch1672>Спутник</a></h1><p class=statements_chapter_title><b>Задача F.</b> Спутник<p style=text-indent:1.25cm;margin-bottom:0 align=JUSTIFY><font size=2 style=font-size:11pt>Секретная корпорация, занимающаяся поиском инопланетных жизненных форм обнаружила на одной из планет созвездия Альфа удивительные живые организмы (даже не плоские, а одномерные). Она приняла решение вести наблюдение за развитием и изменением численности организмов, с этой целью на орбиту планеты был послан спутник - наблюдатель, который мог следить за изменениями численности организмов. Недостаток этого "наблюдателя" в том, что он может отслеживать изменения только на той территории планеты, которая находиться непосредственно под ним.</font></p> <p style=text-indent:1.25cm;margin-bottom:0 align=JUSTIFY><font size=2 style=font-size:11pt>С этой целью его траектория была разбита на равные интервалы. Они пронумерованы от 1 до <em>N</em>. По запросу с Земли о количестве живых форм в интервале с <em>L</em> по <em>R</em> (<em>L</em> ≤ <em>R</em>) - спутник должен, пролетая над ними (<em>L</em>, <em>L</em>+1, …,<em>R</em>-1, <em>R</em> интервалами) произвести подсчет и затем, в ответ на запрос, отправить полученные данные. Но количество организмов постоянно изменяется: в некоторое время в <em>X</em> интервале на <em>Y</em> единиц.</font></p> <p style=text-indent:1.25cm;margin-bottom:0 align=JUSTIFY><font size=2 style=font-size:11pt>Помогите написать программу для спутника, которая будет отвечать на запросы и отслеживать количество единиц жизни в каждом интервале. </font> </p> <p style=margin-top:.21cm;margin-bottom:.11cm align=JUSTIFY><font face="Arial, sans-serif"><font size=3><em><strong>Формат входных данных</strong></em></font></font></p> <p style=text-indent:1.25cm;margin-bottom:0 align=JUSTIFY><font size=2 style=font-size:11pt><span><font face="Times New Roman, serif"><font size=2 style=font-size:11pt><span><span style=font-style:normal>Во входном файле первым записано число </span></span></font></font></span><span><em><font face="Times New Roman, serif"><font size=2 style=font-size:11pt><span>N</span></font></font></em></span><span><font face="Times New Roman, serif"><font size=2 style=font-size:11pt><span><span style=font-style:normal> (1 ≤ </span></span></font></font></span><span><em><font face="Times New Roman, serif"><font size=2 style=font-size:11pt><span>N</span></font></font></em></span><span><font face="Times New Roman, serif"><font size=2 style=font-size:11pt><span><span style=font-style:normal> ≤ 2</span></span></font></font></span><span><sup><font face="Times New Roman, serif"><font size=2 style=font-size:11pt><span><span style=font-style:normal>13</span></span></font></font></sup></span><span><font face="Times New Roman, serif"><font size=2 style=font-size:11pt><span><span style=font-style:normal> = 8192). Затем записана последовательность событий: </span></span></font></font></span></font> </p> <table border=1 cellspacing=3 cellpadding=2 width=680> <tbody><tr> <td width=68> <p align=CENTER><font size=2 style=font-size:11pt>Событие </font> </p> </td> <td width=89> <p align=CENTER><font size=2 style=font-size:11pt>Параметры </font> </p> </td> <td width=497> <p align=CENTER><font size=2 style=font-size:11pt>Описание</font></p> </td> </tr> <tr> <td width=68> <p align=CENTER><font size=2 style=font-size:11pt>1</font></p> </td> <td width=89> <p align=CENTER><font size=2 style=font-size:11pt>X, Y</font></p> </td> <td width=497> <p align=CENTER><font size=2 style=font-size:11pt>Изменение количества организмов в интервале с номером <em>X</em> на <em>Y</em> единиц.(-2<sup>15</sup> ≤ Y ≤ 2<sup>15</sup>-1 = 32767)</font></p> </td> </tr> <tr> <td width=68> <p align=CENTER><font size=2 style=font-size:11pt>2</font></p> </td> <td width=89> <p align=CENTER><font size=2 style=font-size:11pt>L, R</font></p> </td> <td width=497> <p align=CENTER><font size=2 style=font-size:11pt>Запрос суммарного количества организмов с <em>L</em> по <em>R</em> интервал.</font></p> </td> </tr> <tr> <td width=68> <p align=CENTER><font size=2 style=font-size:11pt>0</font></p> </td> <td width=89> <p style=text-indent:1.25cm align=CENTER>   </p> </td> <td width=497> <p align=CENTER><font size=2 style=font-size:11pt>Завершение работы.</font></p> </td> </tr> </table> <p style=text-indent:1.25cm;margin-bottom:0 align=JUSTIFY><font size=2 style=font-size:11pt>Количество событий не превосходит 100000. </font> </p> <p style=margin-top:.21cm;margin-bottom:.11cm align=JUSTIFY><font face="Arial, sans-serif"><font size=3><em><strong>Формат выходных данных</strong></em></font></font></p> <p style=text-indent:1.25cm;margin-bottom:0 align=JUSTIFY><font size=2 style=font-size:11pt>В выходной файл записывать только ответы на запросы.</font></p> <p style=margin-top:.21cm;margin-bottom:.11cm align=JUSTIFY><font face="Arial, sans-serif"><font size=3><em><strong>Примеры</strong></em></font></font></p> <table border=1 cellspacing=0 cellpadding=7 width=682 bordercolor=#000000> <tbody><tr valign=TOP> <td width=319> <p align=CENTER><font face="Courier New, monospace"><font size=2 style=font-size:11pt><strong>Входные данные</strong></font></font></p> </td> <td width=333> <p align=CENTER><font face="Courier New, monospace"><font size=2 style=font-size:11pt><strong>Выходные данные</strong></font></font></p> </td> </tr> <tr valign=TOP> <td width=319> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>2</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>1 1 4</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>2 1 1</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>2 1 1</font></font></p> <p align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>0</font></font></p> </td> <td width=333> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>4</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>4</font></font></p> <p align=LEFT><br> </p> </td> </tr> <tr valign=TOP> <td width=319> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>4</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>2 1 4</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>1 1 3</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>1 4 2</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>2 2 4</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>2 1 2</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>1 4 -2</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>1 2 8</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>2 1 4</font></font></p> <p align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>0</font></font></p> </td> <td width=333> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>0</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>2</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>3</font></font></p> <p style=margin-bottom:0 align=LEFT><font face="Courier New, monospace"><font size=2 style=font-size:11pt>11</font></font></p> <p align=LEFT><br> </p> </td> </tr> </table> </div><hr><div class=statements_chapter><h1><a name=ch3319>Номер максимума на подотрезке с изменением элемента</a></h1><p class=statements_chapter_title><b>Задача G.</b> Номер максимума на подотрезке с изменением элемента</p> <div class=problem-statement><div class=legend><p>Реализуйте эффективную структуру данных, позволяющую изменять элементы массивы и вычислять номер максимального элемента из нескольких подряд идущих элементов.</p></div><p><p><div class=input-specification><div class=section-title>Входные данные</div><p><p>В первой строке вводится одно натуральное число <span class=tex-span><i>N</i></span> (<span class=tex-span>1 ≤ <i>N</i> ≤ 100000</span>) — количество чисел в массиве.<p>Во второй строке вводятся N чисел от 0 до 100000 — элементы массива.<p>В третьей строке вводится одно натуральное число <span class=tex-span><i>M</i></span> (<span class=tex-span>1 ≤ <i>M</i> ≤ 30000</span>) — количество запросов.<p>Каждая из следующих <span class=tex-span><i>M</i></span> строк представляет собой описание запроса. Сначала вводится одна буква, кодирующая вид запроса (s — вычислить номер максимума, u — обновить значение элемента).<p>Следом за s вводятся два числа — номера левой и правой границы отрезка.<p>Следом за u вводятся два числа — номер элемента и его новое значение.</p></div><p><p><div class=output-specification><div class=section-title>Выходные данные</div><p><p>Для каждого запроса s выведите результат. Все числа выводите в одну строку через пробел.</p></div><p></p> </div> <div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>5
2 4 1 3 5
3
s 2 4
u 1 10
s 1 3
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>2 1
</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch3323>k-й ноль на интервале, c изменением элемента</a></h1><p class=statements_chapter_title><b>Задача H.</b> k-й ноль на интервале, c изменением элемента</p> <div class=problem-statement><div class=legend><p>Реализуйте эффективную структуру данных, позволяющую изменять элементы массива и вычислять индекс k-го слева нуля на данном интервале в массиве.</p></div><p><p><div class=input-specification><div class=section-title>Входные данные</div><p><p>В первой строке вводится одно натуральное число <span class=tex-span><i>N</i></span> (<span class=tex-span>1 ≤ <i>N</i> ≤ 100000</span>) — количество чисел в массиве.<p>Во второй строке вводятся N чисел от 0 до 100000 — элементы массива.<p>В третьей строке вводится одно натуральное число <span class=tex-span><i>M</i></span> (<span class=tex-span>1 ≤ <i>M</i> ≤ 30000</span>) — количество запросов.<p>Каждая из следующих <span class=tex-span><i>M</i></span> строк представляет собой описание запроса. Сначала вводится одна буква, кодирующая вид запроса (s — вычислить индекс k-го нуля, u — обновить значение элемента).<p>Следом за s вводится три числа — левый и правый концы интервала и число k (<span class=tex-span>1 ≤ <i>k</i> ≤ <i>N</i></span>).<p>Следом за u вводятся два числа — номер элемента и его новое значение.</p></div><p><p><div class=output-specification><div class=section-title>Выходные данные</div><p><p>Для каждого запроса s выведите результат. Все числа выводите в одну строку через пробел. Если нулей на запрашиваемом интервале нет, выводите -1 для данного запроса.</p></div><p></p> </div>
<div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>5
0 0 3 0 2
3
u 1 5
u 1 0
s 1 5 3
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>4
</pre></div></div></div></div></div> <autoscroll></autoscroll>