<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><!--
 Archive processed by SingleFile 
 url: https://informatics.msk.ru/mod/statements/print3.php?id=33267 
 saved date: Mon Aug 06 2018 21:51:27 GMT+0300 (MSK) 
--><head><meta charset=utf-8> <title>Параллель A. Декартово дерево раз</title> <style>.problem-statement{margin:.5em;font-family:verdana;line-height:1.5em;font-size:14px}.problem-statement p{margin:0 0 1em}.problem-statement ul{list-style:disc inside}.problem-statement .legend{margin-bottom:1em}.problem-statement .section-title{font-family:arial;font-size:115%;font-weight:bold}.problem-statement .output-specification{margin-bottom:1em}.problem-statement .sample-tests .input,.problem-statement .sample-tests .output{border:1px solid #888}.problem-statement .sample-tests .output{margin-bottom:1em;position:relative;top:-1px}.problem-statement .sample-tests pre{line-height:1.25em;padding:.25em;margin:0;background-color:#efefef}.problem-statement .sample-tests .title{font-family:arial;padding:.25em;border-bottom:1px solid #888;text-transform:lowercase;font-weight:bold}</style> <meta http-equiv=Content-Type content="text/html; charset=utf-8"> <meta http-equiv=Content-Type content="text/html; charset="> <meta name=description content="Параллель A. Декартово дерево раз"> <style>h1,h2,h3,h4,h5,h6{margin-left:0;font-family:"Times New Roman",Times,serif;break-after:avoid;break-inside:avoid}.statements_title{margin-left:-40px;font-family:Tahoma,Verdana,Arial,Helvetica,sans-serif;font-size:3em;font-weight:bold;margin-top:120px;margin-bottom:30px;text-align:center}.statements_summary{margin-left:-40px;text-align:center;margin-bottom:120px}.statements_chapter_title{font-family:Tahoma,Verdana,Arial,Helvetica,sans-serif;text-align:left;font-size:1.7em;font-weight:bold;border-style:solid;border-width:0 0 1px;margin-left:0;margin-bottom:20px}.statements_chapter{break-before:page}body{margin-left:50px;margin-right:10px;color:#000;background-color:#fff;font-family:"Times New Roman",Times,serif;font-size:1em;font-weight:normal;text-decoration:none}</style> <style>.typeset{font-family:serif;font-style:normal;font-weight:normal;line-height:normal;text-indent:0}span.typeset{text-align:left}.typeset span{text-align:left;border:0;margin:0;padding:0}.typeset .size2{font-size:70%}.typeset .spacer{display:inline-block}#jsMath_message{position:fixed;bottom:1px;left:2px;background-color:#e6e6e6;border:1px solid #959595;margin:0;padding:1px 8px;z-index:102;color:black;font-size:small;width:auto}#jsMath_button{position:fixed;bottom:1px;right:2px;background-color:white;border:1px solid #959595;margin:0;padding:0 3px 1px;z-index:102;color:black;text-decoration:none;font-size:x-small;width:auto;cursor:pointer}#jsMath_button *{padding:0;border:0;margin:0;line-height:normal;font-size:inherit;font-style:inherit;font-family:inherit}@media print{#jsMath_button{display:none}}.typeset .scale{font-size:120%}</style><style>.typeset .icmr10{font-family:serif}.typeset .icmmi10{font-family:serif;font-style:italic}</style><link type=image/x-icon rel="shortcut icon" href=data:image/x-icon;base64,></head> <body><div id=jsMath_message style="visibility: hidden;">Processing Math: Done</div><div id=jsMath_button title=" Open jsMath Control Panel "><span onclick=jsMath.Controls.Panel()>jsMath</span></div><div style="position: fixed; bottom: 1px; left: 2px; background-color: rgb(230, 230, 230); border: 1px solid rgb(149, 149, 149); margin: 0px; padding: 1px 8px; z-index: 102; color: black; font-size: 75%; width: auto; visibility: hidden;"></div> <a name=top></a> <p class=statements_title>Параллель A. Декартово дерево раз</p> <p class=statements_summary></p> <div class=statements_info><table> <tbody><tr> <td>Сайт:</td> <td><a href=https://informatics.msk.ru/>Дистанционная подготовка</a></td> </tr><tr> <td>Курс:</td> <td>Летняя школа Фоксфорда в Менделеево 2018</td> </tr><tr> <td>Условия задач:</td> <td>Параллель A. Декартово дерево раз</td> </tr><tr> <td>Printed by:</td> <td>Николай Лавренов</td> </tr><tr> <td>Date:</td> <td>Понедельник 6 Август 2018, 22:51</td> </tr> </table></div> <div class=statements_toc_alpha><a name=toc></a><p class=statements_chapter_title>Список задач</p><ul><li><a href=#ch1363><b>Задача A.</b> Построение</a></li><li><a href=#ch2782><b>Задача B.</b> Следующий</a></ul></div><hr><div class=statements_chapter><h1><a name=ch1363>Построение</a></h1><p class=statements_chapter_title><b>Задача A.</b> Построение</p><div class=problem-statement> <div class=legend> <p>В одной военной части решили построить в одну шеренгу по росту. Т.к. часть была далеко не образцовая, то солдаты часто приходили не вовремя, а то их и вовсе приходилось выгонять из шеренги за плохо начищенные сапоги. Однако солдаты в процессе прихода и ухода должны были всегда быть выстроены по росту – сначала самые высокие, а в конце – самые низкие. За расстановку солдат отвечал прапорщик, который заметил интересную особенность – все солдаты в части разного роста. Ваша задача состоит в том, чтобы помочь прапорщику правильно расставлять солдат, а именно для каждого приходящего солдата указывать, перед каким солдатом в строе он должен становится.</p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p>Первая строка содержит число <span>N</span> – количество команд (1 ≤ <span>N</span> ≤ 50<span> </span>000). В каждой следующей строке содержится описание команды: число 1 и <span>X</span> если солдат приходит в строй (<span>X</span> – рост солдата, натуральное число до 100 000 включительно) и число 2 и <span>Y</span> если солдата, стоящим в строе на месте <span>Y</span> надо удалить из строя. Солдаты в строе нумеруются с нуля.</p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p>На каждую команду 1 (добавление в строй) вы должны выводить число <span>K</span> – номер позиции, на которую должен встать этот солдат (все стоящие за ним двигаются назад). Выводите числа по одному в строке.</p> </div> </div>
<div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>5
1 100
1 200
1 50
2 1
1 150
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>0
0
2
1
</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch2782>Следующий</a></h1><p class=statements_chapter_title><b>Задача B.</b> Следующий</p><div class=problem-statement> <div class=legend> <p> Реализуйте структуру данных, которая поддерживает множество <span class=typeset><nobr><span class=scale><span class=icmmi10>S</span><span class=spacer style=margin-left:0.057em></span></span></nobr></span> целых чисел, с котором разрешается производить следующие операции:</p>
<ul>
<li> <span class=typeset><nobr><span class=scale><span class=icmmi10>add</span><span class=icmr10>(</span><span class=icmmi10>i</span><span class=icmr10>)</span></span></nobr></span> — добавить в множество <span class=typeset><nobr><span class=scale><span class=icmmi10>S</span><span class=spacer style=margin-left:0.057em></span></span></nobr></span> число <span class=typeset><nobr><span class=scale><span class=icmmi10>i</span></span></nobr></span> (если он там уже есть, то множество не меняется); </li><li> <span class=typeset><nobr><span class=scale><span class=icmmi10>next</span><span class=icmr10>(</span><span class=icmmi10>i</span><span class=icmr10>)</span></span></nobr></span> — вывести минимальный элемент множества, не меньший <span class=typeset><nobr><span class=scale><span class=icmmi10>i</span></span></nobr></span>. Если искомый элемент в структуре отсутствует, необходимо вывести -1. </ul> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p>Исходно множество <span class=typeset><nobr><span class=scale><span class=icmmi10>S</span><span class=spacer style=margin-left:0.057em></span></span></nobr></span> пусто. Первая строка входного файла содержит <span class=typeset><nobr><span class=scale><span class=icmmi10>n</span></span></nobr></span> — количество операций (<span class=typeset><nobr><span class=scale><span class=icmr10>1</span><span style="position: relative; margin-left:0.277em;"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOCAQAAACxtDVnAAAAAmJLR0QA/4ePzL8AAACDSURBVHjadY+hEQIxEEXfZq6KCCQKlRJOxdJA+kFQQmqIZc5cCTFnUwGGDhaTHBwh+9W+P//vrCj9yI2z6WCUwlOv6C4skUKo2w4TucFq4FjJeOVbBrhwYtHHz7EaDBQi9lClHzOTmsmxGU9mxSnSPyiOOy/59zmAGXAmEMfc8W2YeANOykjYbhilhAAAAABJRU5ErkJggg==" style=" width:12px; vertical-align:-3px; margin-right:0.059em;"></span><span style="position: relative; margin-left:0.277em;"><span class=icmmi10>n</span></span><span style="position: relative; margin-left:0.277em;"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOCAQAAACxtDVnAAAAAmJLR0QA/4ePzL8AAACDSURBVHjadY+hEQIxEEXfZq6KCCQKlRJOxdJA+kFQQmqIZc5cCTFnUwGGDhaTHBwh+9W+P//vrCj9yI2z6WCUwlOv6C4skUKo2w4TucFq4FjJeOVbBrhwYtHHz7EaDBQi9lClHzOTmsmxGU9mxSnSPyiOOy/59zmAGXAmEMfc8W2YeANOykjYbhilhAAAAABJRU5ErkJggg==" style=" width:12px; vertical-align:-3px; margin-right:0.059em;"></span><span style="position: relative; margin-left:0.277em;"><span class=icmr10>3</span></span><span class=icmr10>00</span><span style="position: relative; margin-left:0.166em;"><span class=icmr10>0</span></span><span class=icmr10>00</span></span></nobr></span>). Следующие <span class=typeset><nobr><span class=scale><span class=icmmi10>n</span></span></nobr></span> строк содержат операции. Каждая операция имеет вид либо «+ <span class=typeset><nobr><span class=scale><span class=icmmi10>i</span></span></nobr></span>», либо «? <span class=typeset><nobr><span class=scale><span class=icmmi10>i</span></span></nobr></span>». Операция «? <span class=typeset><nobr><span class=scale><span class=icmmi10>i</span></span></nobr></span>» задает запрос <span class=typeset><nobr><span class=scale><span class=icmmi10>next</span><span class=icmr10>(</span><span class=icmmi10>i</span><span class=icmr10>)</span></span></nobr></span>. </p> <p> Если операция «+ <span class=typeset><nobr><span class=scale><span class=icmmi10>i</span></span></nobr></span>» идет во входном файле в начале или после другой операции «+», то она задает операцию <span class=typeset><nobr><span class=scale><span class=icmmi10>add</span><span class=icmr10>(</span><span class=icmmi10>i</span><span class=icmr10>)</span></span></nobr></span>. Если же она идет после запроса «?», и результат этого запроса был <span class=typeset><nobr><span class=scale><span class=icmmi10>y</span><span class=spacer style=margin-left:0.035em></span></span></nobr></span>, то выполняется операция <span class=typeset><nobr><span class=scale><span class=icmmi10>add</span><span class=icmr10>((</span><span class=icmmi10>i</span><span style="position: relative; margin-left:0.222em;"><span class=icmr10>+</span></span><span style="position: relative; margin-left:0.222em;"><span class=icmmi10>y</span><span class=spacer style=margin-left:0.035em></span></span><span class=icmr10>)</span><span style="position: relative; margin-left:0.222em;"><span class=icmr10>mod</span></span><span style="position: relative; margin-left:0.222em;"><span class=icmr10>1</span></span><span class=icmr10>0</span><span style="position: relative; top:-0.362em;"><span class=size2><span class=icmr10>9</span></span><span class=spacer style=margin-left:0.05em></span></span><span class=icmr10>)</span></span></nobr></span>. </p><p> Во всех запросах и операциях добавления параметры лежат в интервале от <span class=typeset><nobr><span class=scale><span class=icmr10>0</span></span></nobr></span> до <span class=typeset><nobr><span class=scale><span class=icmr10>1</span><span class=icmr10>0</span><span style="position: relative; top:-0.362em;"><span class=size2><span class=icmr10>9</span></span><span class=spacer style=margin-left:0.05em></span></span></span></nobr></span>.</p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p>Для каждого запроса выведите одно число — ответ на запрос.</p> </div> </div> <div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>6
+ 1
+ 3
+ 3
? 2
+ 1
? 4</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>3
4</pre></div></div></div></div></div> <autoscroll></autoscroll></body></html>