<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"> <html><!--
 Archive processed by SingleFile 
 url: https://informatics.msk.ru/mod/statements/print3.php?id=33274 
 saved date: Sun Aug 19 2018 22:27:41 GMT+0300 (MSK) 
--><meta charset=utf-8>
<title>Параллель C. DFS+BFS</title>
<style>.problem-statement{margin:.5em;font-family:verdana;line-height:1.5em;font-size:14px}.problem-statement p{margin:0 0 1em}.problem-statement .legend{margin-bottom:1em}.problem-statement .section-title{font-family:arial;font-size:115%;font-weight:bold}.problem-statement .output-specification{margin-bottom:1em}.problem-statement .sample-tests .input,.problem-statement .sample-tests .output{border:1px solid #888}.problem-statement .sample-tests .output{margin-bottom:1em;position:relative;top:-1px}.problem-statement .sample-tests pre{line-height:1.25em;padding:.25em;margin:0;background-color:#efefef}.problem-statement .sample-tests .title{font-family:arial;padding:.25em;border-bottom:1px solid #888;text-transform:lowercase;font-weight:bold}</style>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta http-equiv=Content-Type content="text/html; charset=">
<meta name=description content="Параллель C. DFS+BFS">
<style>h1,h2,h3,h4,h5,h6{margin-left:0;font-family:"Times New Roman",Times,serif;break-after:avoid;break-inside:avoid}.statements_title{margin-left:-40px;font-family:Tahoma,Verdana,Arial,Helvetica,sans-serif;font-size:3em;font-weight:bold;margin-top:120px;margin-bottom:30px;text-align:center}.statements_summary{margin-left:-40px;text-align:center;margin-bottom:120px}.statements_chapter_title{font-family:Tahoma,Verdana,Arial,Helvetica,sans-serif;text-align:left;font-size:1.7em;font-weight:bold;border-style:solid;border-width:0 0 1px;margin-left:0;margin-bottom:20px}.statements_chapter{break-before:page}body{margin-left:50px;margin-right:10px;color:#000;background-color:#fff;font-family:"Times New Roman",Times,serif;font-size:1em;font-weight:normal;text-decoration:none}font{color:#000;background-color:#eee;font-family:"Times New Roman",Times,serif;font-size:1em;font-weight:normal;text-decoration:none}.typeset{font-family:serif;font-style:normal;font-weight:normal;line-height:normal;text-indent:0}span.typeset{text-align:left}.typeset span{text-align:left;border:0;margin:0;padding:0}.typeset .size2{font-size:70%}.typeset .blank{display:inline-block;overflow:hidden;border:0 none;width:0;height:0}.typeset .spacer{display:inline-block}#jsMath_message{position:fixed;bottom:1px;left:2px;background-color:#e6e6e6;border:1px solid #959595;margin:0;padding:1px 8px;z-index:102;color:black;font-size:small;width:auto}#jsMath_button{position:fixed;bottom:1px;right:2px;background-color:white;border:1px solid #959595;margin:0;padding:0 3px 1px;z-index:102;color:black;text-decoration:none;font-size:x-small;width:auto;cursor:pointer}#jsMath_button *{padding:0;border:0;margin:0;line-height:normal;font-size:inherit;font-style:inherit;font-family:inherit}@media print{#jsMath_button{display:none}}.typeset .scale{font-size:120%}.typeset .icmr10{font-family:serif}.typeset .icmmi10{font-family:serif;font-style:italic}</style><link type=image/x-icon rel="shortcut icon" href=data:image/x-icon;base64,></head> <body><div id=jsMath_message style=visibility:hidden;>Processing Math: Done</div><div id=jsMath_button title=" Open jsMath Control Panel "><span onclick=jsMath.Controls.Panel()>jsMath</span></div><div style="position:fixed;bottom:1px;left:2px;background-color:#e6e6e6;border:1px solid #959595;margin:0;padding:1px 8px;z-index:102;color:black;font-size:75%;width:auto;visibility:hidden;"></div> <a name=top></a> <p class=statements_title>Параллель C. DFS+BFS</p> <p class=statements_summary></p>  <div class=statements_toc_alpha><a name=toc></a><p class=statements_chapter_title>Список задач<ul><li><a href=#ch175><b>Задача A.</b> Светофорчики</a><li><a href=#ch164><b>Задача B.</b> Обход графа</a><li><a href=#ch474><b>Задача C.</b> Истоки и стоки</a><li><a href=#ch165><b>Задача D.</b> Банкет</a><li><a href=#ch2872><b>Задача E.</b> Дерево?</a><li><a href=#ch111540><b>Задача F.</b> Компоненты связности</a><li><a href=#ch98><b>Задача G.</b> Есть ли цикл?</a><li><a href=#ch200><b>Задача H.</b> Площадь комнаты</a><li><a href=#ch652><b>Задача I.</b> Удаление клеток</a><li><a href=#ch160><b>Задача J.</b> Путь в графе</a><li><a href=#ch161><b>Задача K.</b> Один конь</a><li><a href=#ch2001><b>Задача L.</b> Числа</a><li><a href=#ch1939><b>Задача M.</b> Эвакуация</a></ul></div><hr><div class=statements_chapter><h1><a name=ch175>Светофорчики</a></h1><p class=statements_chapter_title><b>Задача A.</b> Светофорчики<div class=problem-statement> <div class=legend> <table cellpadding=1><tbody> <tr> <td><font face="courier new,courier,monospace">Максимальное время работы на одном тесте:</font> </td> <td><font face="courier new,courier,monospace">5 секунд</font> </td> </tbody> </table>
<p>В подземелье <em>M</em> тоннелей и <em>N</em> перекрестков, каждый тоннель соединяет какие-то два перекрестка. Мышиный король решил поставить по светофору в каждом тоннеле перед каждым перекрестком. Напишите программу, которая посчитает, сколько светофоров должно быть установлено на каждом из перекрестков. Перекрестки пронумерованы числами от 1 до <em>N</em>.</p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p>Первая строка входных данных содержит&nbsp;два числа <em>N</em> и <em>M</em> (0 &lt; <em>N</em> ≤ 100, 0 ≤ <em>M</em> ≤ <em>N</em>*(<em>N</em> – 1)/2). В каждой из следующих <em>M</em> строк записаны по два числа <em>i</em> и <em>j</em> (1 ≤ <em>i</em>,<em>j</em> ≤ <em>N</em>), которые означают, что перекрестки <em>i</em> и <em>j</em> соединены тоннелем.</p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p>Требуется вывести <em>N</em> чисел: <em>k</em>-ое число означает количество светофоров на <em>k</em>-ом перекрестке.</p>
<p><i><strong>Примечание</strong>.</i> Можно считать, что любые два перекрестка соединены не более, чем одним тоннелем. Нет тоннелей от перекрестка <em>i</em> до него самого. </p> </div> </div> <div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>7 10
5 1
3 2
7 1
5 2
7 4
6 5
6 4
7 5
2 1
5 3
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>3 3 2 2 5 2 3 
</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch164>Обход графа</a></h1><p class=statements_chapter_title><b>Задача B.</b> Обход графа<div class=problem-statement> <div class=legend> <p>Дан неориентированный невзвешенный граф. Для него вам необходимо найти количество вершин, лежащих в одной компоненте связности с данной вершиной (считая эту вершину).</p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p>В первой строке&nbsp;входных данных&nbsp;содержатся два числа: <em>N</em> и <em>S</em> (1 ≤ <em>N</em> ≤ 100; 1 ≤ <em>S</em> ≤ <em>N</em>), где <em>N</em>&nbsp;– количество вершин графа, а <em>S</em>&nbsp;– заданная вершина. В следующих <em>N</em> строках записано по <em>N</em> чисел&nbsp;– матрица смежности графа, в которой 0 означает отсутствие ребра между вершинами, а 1&nbsp;– его наличие. <strong>Гарантируется, </strong>что на главной диагонали матрицы всегда стоят нули.</p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p>Выведите одно целое число&nbsp;– искомое количество вершин.</p> </div> </div>
<div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>3 1
0 1 1
1 0 0
1 0 0</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>3</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch474>Истоки и стоки</a></h1><p class=statements_chapter_title><b>Задача C.</b> Истоки и стоки<div class=problem-statement> <div class=legend> <p>Напомним, что вершина ориентированного графа называется истоком, если в нее не входит ни одно ребро и стоком, если из нее не выходит ни одного ребра. </p>
<p>Ориентированный граф задан матрицей смежности. Найдите все вершины графа, которые являются истоками, и все его вершины, которые являются стоками. </p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p>Сначала вводится&nbsp;число <i>n</i> ( 1<img height=28 alt="$ le$" src="data:image/gif;base64,R0lGODlhEAAcAOMAAAAAAKenp5ubm4+Pj3d3d2tra19fX7KyslRUVEhISDw8PDAwMCQkJBgYGAwMDAAAACH5BAEAAAcALAAAAAAQABwAQAQ78MhJK0Wg2J2A/16zjWQ1KEwpCYhjqHBsLoxWCkrzynzv/z+B6sQgjIjGUiDBQPRYrgAvsANar9jsKAIAOw==" width=16 align=middle border=0><i>n</i><img height=28 alt="$ le$" src="data:image/gif;base64,R0lGODlhEAAcAOMAAAAAAKenp5ubm4+Pj3d3d2tra19fX7KyslRUVEhISDw8PDAwMCQkJBgYGAwMDAAAACH5BAEAAAcALAAAAAAQABwAQAQ78MhJK0Wg2J2A/16zjWQ1KEwpCYhjqHBsLoxWCkrzynzv/z+B6sQgjIjGUiDBQPRYrgAvsANar9jsKAIAOw==" width=16 align=middle border=0>100)&nbsp;– количество вершин в графе,&nbsp;а затем <i>n</i> строк по <i>n</i> чисел, каждое из которых равно 0 или 1,&nbsp;– его матрица смежности. </p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p>Вначале выведите <i>k</i>&nbsp;– число истоков в графе и затем <i>k</i> чисел&nbsp;– номера вершин, которые являются истоками, в возрастающем порядке.&nbsp;Затем выведите информацию о стоках в том же порядке. </p> </div> </div> <div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>5
0 0 0 0 0 
0 0 0 0 1 
1 1 0 0 0 
0 0 0 0 0 
0 0 0 0 0 
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>2
3
4
3
1
4
5
</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch165>Банкет</a></h1><p class=statements_chapter_title><b>Задача D.</b> Банкет<div class=problem-statement> <div class=legend> <p>На банкет были приглашены <em>N</em> Очень Важных Персон (ОВП). Были поставлены 2 стола. Столы достаточно большие, чтобы все посетители банкета могли сесть за любой из них. Проблема заключается в том, что некоторые ОВП не ладят друг с другом и не могут сидеть за одним столом. Вас попросили определить, возможно ли всех ОВП рассадить за двумя столами.</p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p>В первой строке входных данных&nbsp;содержатся два числа: <em>N</em> и <em>M</em> (1 &lt;= <em>N</em>,<em>M</em> &lt;= 100), где <em>N</em>&nbsp;– количество ОВП, а <em>M</em>&nbsp;– количество пар ОВП, которые не могут сидеть за одним столом. В следующих <em>M</em> строках записано по 2 числа&nbsp;– пары ОВП, которые не могут сидеть за одним столом.</p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p>Если способ рассадить ОВП существует, то&nbsp; выведите <font face="courier new,courier,monospace">YES</font> в первой строке и номера ОВП, которых необходимо посадить за первый стол, во второй строке. В противном случае в первой и единственной строке выведите <font face="courier new,courier,monospace">NO</font>.</p> </div> </div>
<div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>3 2
1 2
1 3
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>YES
1 
</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch2872>Дерево?</a></h1><p class=statements_chapter_title><b>Задача E.</b> Дерево?<div class=problem-statement> <div class=legend> <p>Имеется неориентированный граф, состоящий из <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> вершин и <span class=typeset><nobr><span class=scale><span class=icmmi10>M</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> ребер. Необходимо проверить, является ли граф деревом. Напомним, что дерево — это связный граф, в котором нет циклов (следовательно, между любой парой вершин существует ровно один простой путь). Граф называется связным, если от одной вершины существует путь до любой другой. </p> </div> <div class=input-specification> <div class=section-title>Входные данные</div> <p>Во входном файле в первой строке содержатся два целых числа <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> и <span class=typeset><nobr><span class=scale><span class=icmmi10>M</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> (<span class=typeset><nobr><span class=scale><span class=icmr10>1</span><span style=position:relative;margin-left:.277em;><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOCAQAAACxtDVnAAAAAmJLR0QA/4ePzL8AAACDSURBVHjadY+hEQIxEEXfZq6KCCQKlRJOxdJA+kFQQmqIZc5cCTFnUwGGDhaTHBwh+9W+P//vrCj9yI2z6WCUwlOv6C4skUKo2w4TucFq4FjJeOVbBrhwYtHHz7EaDBQi9lClHzOTmsmxGU9mxSnSPyiOOy/59zmAGXAmEMfc8W2YeANOykjYbhilhAAAAABJRU5ErkJggg==" style=width:12px;vertical-align:-3px;margin-right:.059em;></span><span style=position:relative;margin-left:.277em;><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span><span style=position:relative;margin-left:.277em;><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOCAQAAACxtDVnAAAAAmJLR0QA/4ePzL8AAACDSURBVHjadY+hEQIxEEXfZq6KCCQKlRJOxdJA+kFQQmqIZc5cCTFnUwGGDhaTHBwh+9W+P//vrCj9yI2z6WCUwlOv6C4skUKo2w4TucFq4FjJeOVbBrhwYtHHz7EaDBQi9lClHzOTmsmxGU9mxSnSPyiOOy/59zmAGXAmEMfc8W2YeANOykjYbhilhAAAAABJRU5ErkJggg==" style=width:12px;vertical-align:-3px;margin-right:.059em;></span><span style=position:relative;margin-left:.277em;><span class=icmr10>1</span></span><span class=icmr10>00</span></span></nobr></span>, <span class=typeset><nobr><span class=scale><span class=icmr10>0</span><span style=position:relative;margin-left:.277em;><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOCAQAAACxtDVnAAAAAmJLR0QA/4ePzL8AAACDSURBVHjadY+hEQIxEEXfZq6KCCQKlRJOxdJA+kFQQmqIZc5cCTFnUwGGDhaTHBwh+9W+P//vrCj9yI2z6WCUwlOv6C4skUKo2w4TucFq4FjJeOVbBrhwYtHHz7EaDBQi9lClHzOTmsmxGU9mxSnSPyiOOy/59zmAGXAmEMfc8W2YeANOykjYbhilhAAAAABJRU5ErkJggg==" style=width:12px;vertical-align:-3px;margin-right:.059em;></span><span style=position:relative;margin-left:.277em;><span class=icmmi10>M</span><span class=spacer style=margin-left:.109em></span></span><span style=position:relative;margin-left:.277em;><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOCAQAAACxtDVnAAAAAmJLR0QA/4ePzL8AAACDSURBVHjadY+hEQIxEEXfZq6KCCQKlRJOxdJA+kFQQmqIZc5cCTFnUwGGDhaTHBwh+9W+P//vrCj9yI2z6WCUwlOv6C4skUKo2w4TucFq4FjJeOVbBrhwYtHHz7EaDBQi9lClHzOTmsmxGU9mxSnSPyiOOy/59zmAGXAmEMfc8W2YeANOykjYbhilhAAAAABJRU5ErkJggg==" style=width:12px;vertical-align:-3px;margin-right:.059em;></span><span style=position:relative;margin-left:.277em;><span class=icmr10>1</span></span><span style=position:relative;margin-left:.166em;><span class=icmr10>0</span></span><span class=icmr10>00</span></span></nobr></span>), записанные через пробел. Далее следуют <span class=typeset><nobr><span class=scale><span class=icmmi10>M</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> различных строк с описаниями ребер, каждая из которых содержит два натуральных числа <span class=typeset><nobr><span class=scale><span class=icmmi10>A</span><span style=position:relative;top:.277em;><span class=size2><span class=icmmi10>i</span></span><span class=spacer style=margin-left:.05em></span></span><span class=blank style=height:1.117em;vertical-align:-0.327em></span></span></nobr></span> и <span class=typeset><nobr><span class=scale><span class=icmmi10>B</span><span style=position:relative;top:.277em;><span class=size2><span class=icmmi10>i</span></span><span class=spacer style=margin-left:.05em></span></span><span class=blank style=height:1.117em;vertical-align:-0.327em></span></span></nobr></span> (<span class=typeset><nobr><span class=scale><span class=icmr10>1</span><span style=position:relative;margin-left:.277em;><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOCAQAAACxtDVnAAAAAmJLR0QA/4ePzL8AAACDSURBVHjadY+hEQIxEEXfZq6KCCQKlRJOxdJA+kFQQmqIZc5cCTFnUwGGDhaTHBwh+9W+P//vrCj9yI2z6WCUwlOv6C4skUKo2w4TucFq4FjJeOVbBrhwYtHHz7EaDBQi9lClHzOTmsmxGU9mxSnSPyiOOy/59zmAGXAmEMfc8W2YeANOykjYbhilhAAAAABJRU5ErkJggg==" style=width:12px;vertical-align:-3px;margin-right:.059em;></span><span style=position:relative;margin-left:.277em;><span class=icmmi10>A</span><span style=position:relative;top:.277em;><span class=size2><span class=icmmi10>i</span></span><span class=spacer style=margin-left:.05em></span></span></span><span style=position:relative;margin-left:.277em;><img src=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAALCAQAAADheaTUAAAAAmJLR0QA/4ePzL8AAABVSURBVHjabY9BDcBACAQHG5ipE1Rg4kQgDRUVQD9Nc5SDB2FhM1kpTiVKjcZI4i86SRTFLi6S9W3vCBJv3gLnxgapQOf/xuiEBu/HmcJJApVTcjGuB24IYsHkLWyaAAAAAElFTkSuQmCC style=width:12px;vertical-align:-1px;margin-right:.059em;></span><span style=position:relative;margin-left:.277em;><span class=icmmi10>B</span><span style=position:relative;top:.277em;><span class=size2><span class=icmmi10>i</span></span><span class=spacer style=margin-left:.05em></span></span></span><span style=position:relative;margin-left:.277em;><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOCAQAAACxtDVnAAAAAmJLR0QA/4ePzL8AAACDSURBVHjadY+hEQIxEEXfZq6KCCQKlRJOxdJA+kFQQmqIZc5cCTFnUwGGDhaTHBwh+9W+P//vrCj9yI2z6WCUwlOv6C4skUKo2w4TucFq4FjJeOVbBrhwYtHHz7EaDBQi9lClHzOTmsmxGU9mxSnSPyiOOy/59zmAGXAmEMfc8W2YeANOykjYbhilhAAAAABJRU5ErkJggg==" style=width:12px;vertical-align:-3px;margin-right:.059em;></span><span style=position:relative;margin-left:.277em;><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span><span class=blank style=height:1.117em;vertical-align:-0.327em></span></span></nobr></span>), где <span class=typeset><nobr><span class=scale><span class=icmmi10>A</span><span style=position:relative;top:.277em;><span class=size2><span class=icmmi10>i</span></span><span class=spacer style=margin-left:.05em></span></span><span class=blank style=height:1.117em;vertical-align:-0.327em></span></span></nobr></span> и <span class=typeset><nobr><span class=scale><span class=icmmi10>B</span><span style=position:relative;top:.277em;><span class=size2><span class=icmmi10>i</span></span><span class=spacer style=margin-left:.05em></span></span><span class=blank style=height:1.117em;vertical-align:-0.327em></span></span></nobr></span> — номера вершин, соединенных <span class=typeset><nobr><span class=scale><span class=icmmi10>i</span></span></nobr></span>-м ребром.</p> </div> <div class=output-specification> <div class=section-title>Выходные данные</div> <p>В выходной файл выведите слово «YES», если граф является деревом, или «NO» в противном случае.</p> </div> </div> <div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>3 2
1 2
1 3</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>YES</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch111540>Компоненты связности</a></h1><p class=statements_chapter_title><b>Задача F.</b> Компоненты связности<div class=problem-statement> <div class=legend> <p> Дан неориентированный невзвешенный граф. Необходимо посчитать количество его компонент связности и вывести их. </p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p> Во входном файле записано два числа <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> и <span class=typeset><nobr><span class=scale><span class=icmmi10>M</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> (0 &lt; <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> ≤ 100000, 0 ≤ <span class=typeset><nobr><span class=scale><span class=icmmi10>M</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> ≤ 100000). В следующих <span class=typeset><nobr><span class=scale><span class=icmmi10>M</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> строках записаны по два числа <span class=typeset><nobr><span class=scale><span class=icmmi10>i</span></span></nobr></span> и <span class=typeset><nobr><span class=scale><span class=icmmi10>j</span><span class=spacer style=margin-left:.057em></span></span></nobr></span> (1 ≤ <span class=typeset><nobr><span class=scale><span class=icmmi10>i</span></span></nobr></span>, <span class=typeset><nobr><span class=scale><span class=icmmi10>j</span><span class=spacer style=margin-left:.057em></span></span></nobr></span> ≤ <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span>), которые означают, что вершины <span class=typeset><nobr><span class=scale><span class=icmmi10>i</span></span></nobr></span> и <span class=typeset><nobr><span class=scale><span class=icmmi10>j</span><span class=spacer style=margin-left:.057em></span></span></nobr></span> соединены ребром. </p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p> В первой строчке выходного файла выведите количество компонент связности. Далее выведите сами компоненты связности в следующем формате: в первой строке количество вершин в компоненте, во второй - сами вершины в произвольном порядке. </p> </div> </div> <div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>6 4
3 1
1 2
5 4
2 3
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>3
3
1 2 3 
2
4 5 
1
6 
</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch98>Есть ли цикл?</a></h1><p class=statements_chapter_title><b>Задача G.</b> Есть ли цикл?<div class=problem-statement> <div class=legend> <p>Дан ориентированный граф. Требуется определить, есть ли в нем цикл.<br></p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p>В первой строке&nbsp;вводится число вершин <em>N</em>≤ 50. Далее в<em> N</em> строках следуют по <em>N</em> чисел, каждое из которых&nbsp;– 0 или 1. <em>j</em>-ое число в <em>i</em>-ой строке равно 1 тогда и только тогда, когда существует ребро, идущее из <em>i</em>-ой вершины в<em> j</em>-ую. Гарантируется, что на диагонали матрицы будут стоять нули.</p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p>Выведите 0, если в заданном графе цикла нет, и 1, если он есть.</p> </div> </div> <div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>3
0 1 0
0 0 1
0 0 0
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>0
</pre></div></div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>3
0 1 0
0 0 1
1 0 0
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>1
</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch200>Площадь комнаты</a></h1><p class=statements_chapter_title><b>Задача H.</b> Площадь комнаты<div class=problem-statement> <div class=legend> <p>Требуется вычислить площадь комнаты в квадратном лабиринте.</p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p>В первой строке&nbsp;&nbsp;вводится число <em>N</em> – размер лабиринта (3 &lt;= <em>N</em> &lt;= 10). В следующих <em>N</em> строках задан лабиринт (‘<b><font face="courier new,courier,monospace">.</font></b>’ – пустая клетка, ‘<b><font face="courier new,courier,monospace">*</font></b>’ – стенка).&nbsp;И наконец,&nbsp;последняя строка содержит&nbsp;&nbsp;два числа – номер строки и столбца клетки, находящейся в комнате, площадь которой необходимо вычислить. Гарантируется, что эта клетка пустая и что лабиринт окружен стенками со всех сторон.</p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p>Требуется&nbsp;вывести единственное число – количество пустых клеток в данной комнате.</p> </div> </div>
<div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>5
*****
**..*
*.*.*
*..**
*****
2 4
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>3
</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch652>Удаление клеток</a></h1><p class=statements_chapter_title><b>Задача I.</b> Удаление клеток<div class=problem-statement> <div class=legend> <p> Из прямоугольного листа клетчатой бумаги (<span class=typeset><nobr><span class=scale><span class=icmmi10>M</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> строк, <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> столбцов) удалили некоторые клетки. На сколько кусков распадётся оставшаяся часть листа? Две клетки не распадаются, если они имеют общую сторону. </p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p> В первой строке находятся числа <span class=typeset><nobr><span class=scale><span class=icmmi10>M</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> и <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span>, в следующих <span class=typeset><nobr><span class=scale><span class=icmmi10>M</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> строках - по <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> символов. Если клетка не была вырезана, этому соответствует знак #, если вырезана - точка. 1 &lt;= <span class=typeset><nobr><span class=scale><span class=icmmi10>M</span><span class=spacer style=margin-left:.109em></span></span></nobr></span>, <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> &lt;= 100. </p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p> Вывести одно число. </p> </div> </div> <div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>5 10
##..#####.
.#.#.#....
###..##.#.
..##.....#
.###.#####</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>5</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch160>Путь в графе</a></h1><p class=statements_chapter_title><b>Задача J.</b> Путь в графе<div class=problem-statement> <div class=legend> <table cellpadding=1><tbody> <tr> <td><font face="courier new,courier,monospace">Максимальное время работы на одном тесте: &nbsp; </font> </td> <td><font face="courier new,courier,monospace">5 секунд </font> </td> </tbody> </table>
<p>В неориентированном графе требуется найти минимальный путь между двумя вершинами.</p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p>Первым на вход поступает&nbsp;число <em>N</em> – количество вершин в графе (1 ≤ <em>N</em> ≤ 100). Затем записана матрица смежности (0 обозначает отсутствие ребра, 1 – наличие ребра).&nbsp;Далее задаются&nbsp;номера двух вершин – начальной и конечной. </p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p>Выведите сначала <em>L</em> – длину кратчайшего пути (количество ребер, которые нужно пройти), а потом сам путь. Если путь имеет длину 0, то его выводить не нужно, достаточно вывести длину.</p>
<p>Необходимо вывести путь (номера всех вершин в правильном порядке). Если пути нет, нужно вывести -1. </p></div> </div> <div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>5
0 1 0 0 1
1 0 1 0 0
0 1 0 0 0
0 0 0 0 0
1 0 0 0 0
3 5</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>3
3 2 1 5</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch161>Один конь</a></h1><p class=statements_chapter_title><b>Задача K.</b> Один конь<div class=problem-statement> <div class=legend> <table cellpadding=1><tbody> <tr> <td><font face="courier new,courier,monospace">Максимальное время работы на одном тесте: </font> </td> <td><font face="courier new,courier,monospace">1 секунда</font> </td> </tbody> </table>
<p>На шахматной доске <em>N</em>x<em>N</em> в клетке (<em>x1</em>, <em>y1</em>) стоит голодный шахматный конь. Он хочет попасть в клетку (<em>x2</em>, <em>y2</em>), где растет вкусная шахматная трава. Какое наименьшее количество ходов он должен для этого сделать?</p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p>На вход программы поступает &nbsp;пять чисел: <em>N</em>, <em>x1</em>, <em>y1</em>, <em>x2</em>, <em>y2 </em>(5 &lt;= <em>N</em> &lt;= 20, 1 &lt;= <em>x1</em>, <em>y1</em>, <em>x2</em>, <em>y2</em> &lt;= <em>N</em>). Левая верхняя клетка доски имеет координаты (1, 1), правая нижняя - (<em>N</em>, <em>N</em>). </p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p>В первой строке&nbsp;выведите единственное число <em>K</em> - наименьшее необходимое число ходов коня. В каждой из следующих <em>K</em>+1 строк должно быть записано 2 числа - координаты очередной клетки в пути коня.</p>
<p><b>Пример выходного файла ниже неполный, правильный пример такой:</b></p>
<pre>4
3 3
2 1
1 3
3 2
5 1
</pre> </div> </div> <div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>5
3 3
5 1</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>4</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch2001>Числа</a></h1><p class=statements_chapter_title><b>Задача L.</b> Числа<div class=problem-statement> <div class=legend> <p>Витя хочет придумать новую игру с числами. В этой игре от игроков требуется преобразовывать четырехзначные числа не содержащие нулей при помощи следующего разрешенного набора действий:</p> <p>1. Можно увеличить первую цифру числа на 1, если она не равна 9.</p> <p>2. Можно уменьшить последнюю цифру на 1, если она не равна 1.</p> <p>3. Можно циклически сдвинуть все цифры на одну вправо.</p> <p>4. Можно циклически сдвинуть все цифры на одну влево.</p> <p>Например, применяя эти правила к числу 1234 можно получить числа 2234, 1233, 4123 и 2341 соответственно. Точные правила игры Витя пока не придумал, но пока его интересует вопрос, как получить из одного числа другое за минимальное количество операций.</p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p>Во входном файле содержится два различных четырехзначных числа, каждое из которых не содержит нулей.</p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p>Программа должна вывести последовательность четырехзначных чисел, не содержащих нулей. Последовательность должна начинаться первым из данных чисел и заканчиваться вторым из данных чисел, каждое последующее число в последовательности должно быть получено из предыдущего числа применением одного из правил. Количество чисел в последовательности должно быть минимально возможным.</p> </div> </div>
<div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>1234
4321
</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>1234
2234
3234
4323
4322
4321
</pre></div></div></div></div></div><hr><div class=statements_chapter><h1><a name=ch1939>Эвакуация</a></h1><p class=statements_chapter_title><b>Задача M.</b> Эвакуация<div class=problem-statement> <div class=legend> <p> Одна из Сверхсекретных организаций, чье название мы не имеем право разглашать, представляет собой сеть из <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> подземных бункеров, соединенных равными по длине туннелями, по которым из любого бункера можно добраться до любого другого (не обязательно напрямую). Связь с внешним миром осуществляется через специальные засекреченные выходы, которые расположены в некоторых из бункеров. <p> Организации понадобилось составить план эвакуации персонала на случай экстренной ситуации. Для этого для каждого из бункеров необходимо узнать, сколько времени потребуется для того, чтобы добраться до ближайшего из выходов. Вам, как специалисту по таким задачам, поручено рассчитать необходимое время для каждого из бункеров по заданному описанию помещения Сверхсекретной организации. Для вашего же удобства бункеры занумерованы числами от 1 до <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span>. </p> </div> <div class=input-specification> <div class=section-title> Входные данные </div> <p> Сначала вводятся два натуральных числа <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span>, <span class=typeset><nobr><span class=scale><span class=icmmi10>K</span><span class=spacer style=margin-left:.071em></span></span></nobr></span> (<span class=typeset><nobr><span class=scale><span class=icmr10>1</span></span></nobr></span> ≤ <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> ≤ 100000, <span class=typeset><nobr><span class=scale><span class=icmr10>1</span></span></nobr></span> ≤ <span class=typeset><nobr><span class=scale><span class=icmmi10>K</span><span class=spacer style=margin-left:.071em></span></span></nobr></span> ≤ <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span>) — количество бункеров и количество выходов соответственно. <p> Далее через пробел записаны <span class=typeset><nobr><span class=scale><span class=icmmi10>K</span><span class=spacer style=margin-left:.071em></span></span></nobr></span> различных чисел от <span class=typeset><nobr><span class=scale><span class=icmr10>1</span></span></nobr></span> до <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span>, обозначающих номера бункеров, в которых расположены выходы. <p> Потом идёт число <span class=typeset><nobr><span class=scale><span class=icmmi10>M</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> (1 ≤ <span class=typeset><nobr><span class=scale><span class=icmmi10>M</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> ≤ 100000) — количество туннелей. Далее вводятся M пар чисел – номера бункеров, соединенных туннелем. По каждому из туннелей можно двигаться в обе стороны. В организации не существует туннелей, ведущих из бункера в самого себя, зато может существовать более одного туннеля между парой бункеров. </p> </div> <div class=output-specification> <div class=section-title> Выходные данные </div> <p> Выведите <span class=typeset><nobr><span class=scale><span class=icmmi10>N</span><span class=spacer style=margin-left:.109em></span></span></nobr></span> чисел, разделенных пробелом — для каждого из бункеров минимальное время, необходимое чтобы добраться до выхода. Считайте, что время перемещения по одному туннелю равно <span class=typeset><nobr><span class=scale><span class=icmr10>1</span></span></nobr></span>. </p> </div> </div>
<div class=problem-statement><div class=sample-tests><div class=section-title>Примеры</div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>3
1
2 
3
1 2
3 1
2 3</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>1 0 1 </pre></div></div><div class=sample-test><div class=input><div class=title>Входные данные</div><pre class=content>10
2
10 8 
9
6 7
7 5
5 8
8 1
1 10
10 3
3 4
4 9
9 2</pre></div><div class=output><div class=title>Выходные данные</div><pre class=content>1 4 1 2 1 3 2 0 3 0 </pre></div></div></div></div></div> <autoscroll></autoscroll>